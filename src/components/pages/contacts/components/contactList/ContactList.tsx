import React, { useState, useEffect, useContext } from "react";
import styles from "./ContactList.module.scss";
import Pagination from "../../../../utilities/pagination/Pagination";
import ContactCard from "../contactCard/ContactCard";
import { ContactModel } from "../../../../../model";

const ContactList: React.FC = () => {
  //variables and hooks
  const contacts = [
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
    {
      _id: "63ecb00e97ec6003152c998a",
      name: "Emmanuel 45",
      phone: "0702505359",
      email: "onyema2345@mail.com",
      label: "school",
      twitter: "",
      instagram: "",
      linkedIn: "",
      createdAt: "2023-02-15T10:12:30.254Z",
      updatedAt: "2023-02-15T10:12:30.254Z",
    },
    {
      _id: "63f7ea6938bb8803c148205b",
      name: "emma",
      phone: "333333333333",
      email: "sam@gmail.com",
      label: "friend",
      twitter: "kk",
      instagram: "ll",
      linkedIn: "lk",
      createdAt: "2023-02-23T22:36:25.682Z",
      updatedAt: "2023-02-23T22:36:25.682Z",
    },
    {
      _id: "63fc00998cadd1ac1ce67956",
      name: "test11",
      phone: "333333333333test11",
      email: "test@gmail.com",
      label: "friend",
      twitter: "ywitest1",
      instagram: "instatest1",
      linkedIn: "linktest1",
      createdAt: "2023-02-27T01:00:09.120Z",
      updatedAt: "2023-02-27T01:00:09.120Z",
    },
  ];
  const [currentPage, setCurrentPage] = useState<number>(1);
  const itemsPerPage = 9;
  const indexOfLastPage = currentPage * itemsPerPage;
  const indexOfFirstPage = indexOfLastPage - itemsPerPage;
  const currentItems = contacts.slice(indexOfFirstPage, indexOfLastPage);
  const totalPosts = contacts.length;
  const numOfPages = Math.ceil(totalPosts / itemsPerPage);
  console.log(contacts);

  //functions
  const prevPage = () => setCurrentPage(currentPage - 1);
  const nextPage = () => setCurrentPage(currentPage + 1);

  //render
  return (
    <>
      <ul className={styles.contactList}>
        {currentItems.map((contact: ContactModel) => (
          <ContactCard contact={contact} key={contact._id} />
        ))}
      </ul>
      <Pagination
        currentPage={currentPage}
        numOfPages={numOfPages}
        prevPage={prevPage}
        nextPage={nextPage}
      />
    </>
  );
};

export default ContactList;
